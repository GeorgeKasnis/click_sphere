<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function getRandomNumber(min, max) {
        return Math.random() * (max - min) + min;
      }

      function isElementInViewport(el) {
        // Special bonus for those using jQuery
        if (typeof jQuery === "function" && el instanceof jQuery) {
          el = el[0];
        }

        var rect = el.getBoundingClientRect();
        return (
          rect.top >= 0 &&
          rect.left >= 0 &&
          rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
          rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
      }

      function elementsOverlap(el1, el2) {
        const domRect1 = el1.getBoundingClientRect();
        const domRect2 = el2.getBoundingClientRect();
        console.log("check overlap", domRect1.top > domRect2.bottom || domRect1.right < domRect2.left || domRect1.bottom < domRect2.top || domRect1.left > domRect2.right);
        return !(domRect1.top > domRect2.bottom || domRect1.right < domRect2.left || domRect1.bottom < domRect2.top || domRect1.left > domRect2.right);
      }

      function setTop() {
        return getRandomNumber(0, window.innerHeight);
      }

      const dimX = [],
        dimY = [];

      function createShapes() {
        for (i = 0; i < 2; i++) {
          const circle = document.createElement("div");
          circle.classList.add("shape1");
          circle.style.width = "200px";
          circle.style.height = "200px";
          circle.style.backgroundColor = "black";
          circle.style.color = "white";
          circle.style.position = "absolute";
          circle.style.fontSize = "32px";
          circle.style.display = "grid";
          circle.style.placeItems = "center";
          circle.style.borderRadius = "100%";
          let topVal = setTop();
          console.log("top",topVal);
          dimY.push(topVal);
          if (i > 0) {
            while (Math.abs(dimY[i] - dimY[i - 1]) < 200) {
              console.log("collision");
              topVal = setTop();
              dimY[i] = topVal;
            }
          }
          console.log("top",topVal);
          circle.style.top = topVal + "px";
          let leftVal = getRandomNumber(0, window.innerWidth);
          circle.style.left = leftVal + "px";
          circle.innerHTML = "1";
          document.body.appendChild(circle);
          let val = isElementInViewport(circle);
          while (val == false) {
            circle.style.top = getRandomNumber(0, window.innerHeight) + "px";
            circle.style.left = getRandomNumber(0, window.innerWidth) + "px";
            val = isElementInViewport(circle);
          }
        }
      }

      createShapes();

      // function createCircle2() {
      //   const circle = document.createElement("div");
      //   circle.classList.add("shape2");
      //   circle.style.width = "200px";
      //   circle.style.height = "200px";
      //   circle.style.backgroundColor = "black";
      //   circle.style.color = "white";
      //   circle.style.position = "absolute";
      //   circle.style.fontSize = "32px";
      //   circle.style.display = "grid";
      //   circle.style.placeItems = "center";
      //   circle.style.borderRadius = "100%";
      //   circle.style.top = getRandomNumber(0, window.innerHeight) + "px";
      //   circle.style.left = getRandomNumber(0, window.innerWidth) + "px";
      //   circle.innerHTML = "1";
      //   document.body.appendChild(circle);
      //   let val = isElementInViewport(circle);
      //   while (val == false) {
      //     circle.style.top = getRandomNumber(0, window.innerHeight) + "px";
      //     circle.style.left = getRandomNumber(0, window.innerWidth) + "px";
      //     val = isElementInViewport(circle);
      //   }

      //   if (document.body.childElementCount > 1) {
      //     const collection = document.querySelector("body > .shape:first-of-type");

      //     // console.log(collection);
      //   }
      // }

      // createCircle1();
      // let c1 = document.querySelector(".shape1");

      // while (!elementsOverlap(c1, c2)) {
      //   createCircle2();
      // }
      // // createCircle1();
      // // createCircle2();

      // console.log(c1);
      // console.log(c2);
    </script>
  </body>
</html>
